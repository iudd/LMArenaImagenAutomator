import{v as o,j as a,q as r}from"./index-CdkAYAR1.js";const n=o("system",{state:()=>({status:"",version:"1.0.0",systemVersion:"",uptime:0,cpuUsage:0,memoryUsage:{total:0,used:0,free:0},stats:{totalRequests:0,successRate:0,activeWorkers:0,totalWorkers:0,avgResponseTime:0}}),actions:{async fetchStatus(){const t=a();try{const e=await fetch("/admin/status",{headers:t.getHeaders()});if(e.ok){const s=await e.json();this.$patch(s)}}catch(e){console.error("Failed to fetch system status:",e)}},async fetchStats(){const t=a();try{const e=await fetch("/admin/stats",{headers:t.getHeaders()});if(e.ok){const s=await e.json();this.stats=s}}catch(e){console.error("Failed to fetch stats:",e)}},async restartService(){const t=a();try{const s=await(await fetch("/admin/restart",{method:"POST",headers:t.getHeaders()})).json();return s.success?(r.success(s.message||"Service restarting..."),!0):(r.error("Restart failed"),!1)}catch{return r.error("Restart request failed"),!1}},async stopService(){const t=a();try{const s=await(await fetch("/admin/stop",{method:"POST",headers:t.getHeaders()})).json();return s.success?(r.success(s.message||"Service stopping..."),!0):(r.error("Stop failed"),!1)}catch{return r.error("Stop request failed"),!1}}}});export{n as u};
