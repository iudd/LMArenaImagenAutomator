# Hugging Face Space 配置文件
# 注意：第一次启动需要登录模式，请保持 headless: false

# 日志等级: debug | info | warn | error
logLevel: info

server:
  # 监听端口（会被 start_hf.sh 自动修改为 7860）
  port: 7860
  # 鉴权 API Token (可使用 npm run genkey 生成)
  # 该配置会对 API 接口和 WebUI 生效
  auth: sk-change-me-to-your-secure-key
  # 流式请求心跳设置
  keepalive:
    mode: "comment"

backend:
  pool:
    # 全局调度策略
    strategy: least_busy
    
    # 故障转移配置
    failover:
      enabled: true
      maxRetries: 2
    
    # 浏览器实例列表
    instances:
      # 默认浏览器实例
      - name: "browser_default"
        workers:
          - name: "default"
            type: lmarena

  # 适配器专属配置
  adapter:
    gemini_biz:
      entryUrl: ""
    lmarena:
      returnUrl: false

queue:
  # 队列缓冲区大小
  queueBuffer: 2
  # 图片数量上限
  imageLimit: 5

browser:
  # 浏览器可执行文件路径
  path: ""
  
  # 是否启用无头模式
  # ⚠️ 第一次启动需要登录，请保持 false
  headless: false

  # 站点隔离 (fission.autostart)
  # 开启保持 Firefox 默认状态，关闭可降低内存占用
  fission: true
  
  # 全局代理
  proxy:
    enable: false
    type: http
    host: 127.0.0.1
    port: 7890
