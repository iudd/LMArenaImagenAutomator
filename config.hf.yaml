# Hugging Face Space 优化配置
# 针对 CPU 基础版 (2 vCPU, 16 GB) 优化

# 日志等级: debug | info | warn | error
logLevel: info

server:
  # 监听端口 (会被 start_hf.sh 覆盖为 7860)
  port: 7860
  # 鉴权 API Token (可使用 npm run genkey 生成)
  # 该配置会对 API 接口和 WebUI 生效
  auth: sk-change-me-to-your-secure-key
  # 流式请求心跳设置
  keepalive:
    mode: "comment"

backend:
  pool:
    # 全局调度策略
    strategy: least_busy

    # 故障转移配置
    failover:
      enabled: true
      maxRetries: 2

    # 浏览器实例列表
    instances:
      # 默认浏览器实例
      - name: "browser_default"
        workers:
          - name: "default"
            type: lmarena

  adapter:
    lmarena:
      returnUrl: false

queue:
  # 队列缓冲区大小
  queueBuffer: 2
  # 图片数量上限
  imageLimit: 5

browser:
  # 浏览器可执行文件路径
  path: ""
  
  # 无头模式 (Hugging Face Space 推荐)
  headless: false

  # 关闭 Fission 降低内存占用
  # ⚠️ 可能会增加被检测风险，但 HF Space 资源有限
  fission: false
